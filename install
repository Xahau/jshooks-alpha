#!/usr/bin/env bash

export RED="\033[31m"
export GREEN="\033[32m"
export BLUE="\033[34m"
export PURPLE="\033[35m"
export CYAN="\033[36m"
export END="\033[0m"

clear

echo
echo '             _                    #    â–â–„â–„â–„.â–„â–„ Â·      â–„ .â–„            â–„ â€¢â–„ .â–„â–„ Â·                '
echo '  __  ____ _| |__   __ _ _   _    #     Â·â–ˆâ–ˆâ–â–ˆ â–€.     â–ˆâ–ˆâ–ªâ–â–ˆâ–ª     â–ª     â–ˆâ–Œâ–„â–Œâ–ªâ–â–ˆ â–€.                '
echo '  \ \/ / _` | "_ \ / _` | | | |   #   â–ªâ–„ â–ˆâ–ˆâ–„â–€â–€â–€â–ˆâ–„    â–ˆâ–ˆâ–€â–â–ˆ â–„â–ˆâ–€â–„  â–„â–ˆâ–€â–„ â–â–€â–€â–„Â·â–„â–€â–€â–€â–ˆâ–„               '
echo "   >  < (_| | | | | (_| | |_| |   #   â–â–Œâ–â–ˆâ–Œâ–â–ˆâ–„â–ªâ–â–ˆ    â–ˆâ–ˆâ–Œâ–â–€â–â–ˆâ–Œ.â–â–Œâ–â–ˆâ–Œ.â–â–Œâ–â–ˆ.â–ˆâ–Œâ–â–ˆâ–„â–ªâ–â–ˆ               "
echo "  /_/\_\__,_|_| |_|\__,_|\__,_|   #    â–€â–€â–€â€¢ â–€â–€â–€â–€     â–€â–€â–€ Â· â–€â–ˆâ–„â–€â–ª â–€â–ˆâ–„â–€â–ªÂ·â–€  â–€ â–€â–€â–€â–€                "
echo
                     
echo -e "${GREEN}Xahau(d) - JS Hooks ALPHA TOOLKIT${END}"
echo -e "                     ^^ EARLY STAGE! Expect dragons! ðŸ‰ ðŸ‰"
echo
echo -e "${BLUE}Installs & runs:${END}"
echo "    - Local JS Hooks enabled Xahau instance"
echo "        - Network ID 65535 to disable TX signature verification"
echo "    - Technical Explorer"
echo "    - Log Watcher (rippled in trace, filtering on Hook info)"
echo "    - JS Hooks compiler (JS to Hook) & deployment"
echo "    - Transaction Generation Helper script"

echo
echo -e "${BLUE}Checking dependencies:${END}"

./scripts/install-check-prerequisites ; [[ $? -gt 0 ]] && echo -e "${RED}Dependency ERROR${END}" && exit 1 || echo -e "${GREEN}Dependencies OK${END}"

echo
echo -e "${BLUE}Building/running Docker Image:${END}"

echo
echo -e "${PURPLE}XAHAUD${END}"
./scripts/xahaud

echo
echo -e "${PURPLE}JS HOOK BUILDER${END}"
./scripts/hook-builder

echo
echo -e "${PURPLE}TECHNICAL EXPLORER${END}"
./scripts/technical-explorer


##### Done

echo